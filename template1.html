<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="author" content="">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- <link href="css/style.css" rel="stylesheet"> -->
  <!-- Reset CSS for all browsers -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jgthms/minireset.css@master/minireset.min.css">
  <link rel="stylesheet" href="./style1.css">
  <script src="https://kit.fontawesome.com/3a5c809ac6.js" crossorigin="anonymous"></script>


  <script src="https://code.jquery.com/jquery-3.7.0.min.js"
    integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
</head>

<body>
  <section class="panel">
    <div class="band-logo">
      <a href="/"><img src="https://placehold.co/1024x256?text=The%20Lone%20Rangers" alt="Band Logo"></a>
    </div>
    <nav>
      <ul class="menu">
        <li class="menu-item active" data-page="about">About</li>
        <li class="menu-item" data-page="shows">Shows</li>
        <li class="menu-item" data-page="news">News</li>
        <!-- <li class="menu-item">Press Kit</li> -->
        <li class="menu-item" data-page="music">Music</li>
        <li class="menu-item" data-page="video">Video</li>
        <li class="menu-item" data-page="feedback">Feedback</li>
        <li class="menu-item" data-page="store">Store</li>
        <li class="menu-item" data-page="contact">Contact</li>
      </ul>
    </nav>
  </section>

  <main>

    <!-- About Page -->
    <section class="page" id="about">
      <h1 class="title">About</h1>
      <div class="content">
        <h3 class="tag-line">Rock and Roll all night! Party every day!</h3>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc ut sapien vel tellus efficitur suscipit. Fusce
          tempor libero sed metus rhoncus mollis vel id nulla. Donec sed tellus porta, pharetra risus eget, tincidunt
          sem.
          Etiam ullamcorper libero id lacus lobortis, quis ultrices mauris cursus. Donec porttitor mattis vulputate.
          Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Maecenas pellentesque
          porttitor consectetur. Sed turpis sapien, laoreet vel gravida id, rhoncus quis turpis. Donec bibendum commodo
          nulla. Ut sodales erat vel velit viverra euismod. Ut eget libero sed odio aliquam fringilla sit amet nec ex.
          Aenean faucibus eleifend libero, vitae ullamcorper mi. Mauris commodo nulla lacus, vitae semper justo congue
          quis.
        </p>
      </div>
    </section>

    <section class="page" id="shows">
      <h1 class="title">Shows</h1>
      <div class="content">

      </div>
    </section>
    <section class="page" id="news">
      <h1 class="title">News</h1>
      <div class="content">

      </div>
    </section>

    <!-- Music Page -->
    <section class="page" id="music">
      <h1 class="title">Music</h1>
      <div class="content">
        <figure class="audio" id="music-player">
          <figcaption id="song-title">01. Degenerated</figcaption>
          <audio id="audio-player" controls>
            <source src="./test.mp3" type="audio/mpeg">
          </audio>
          <div id="track-list">
            <ul>
              <li class="song">
                01. Degenerated
              </li>
              <li class="song">
                02. Regenerated
              </li>
              <li class="song">
                03. Degenerated (Remix)
              </li>
            </ul>
          </div>
        </figure>
      </div>
    </section>

    <section class="page" id="video">
      <h1>Video</h1>
      <div class="content">
        <figure class="video-container">
          <iframe class="youtube-embed" width="560" height="315" src="https://www.youtube.com/embed/hhpOwuw-BsQ"
            title="YouTube video player" frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen></iframe>
          <p class="video-caption">Our newest music video for Song from Album.</p>
        </figure>
      </div>

    </section>

    <section class="page" id="feedback">
      <h1 class="title">What our fans say</h1>
      <div class="content">

      </div>
    </section>

    <section class="page" id="store">
      <h1 class="title">News</h1>
      <div class="content">

      </div>
    </section>

    <section class="page" id="contact">
      <h1 class="title">News</h1>
      <div class="content">

      </div>
    </section>

    <footer>
      <div class="social">
        <ul>
          <li class="social-link"><a href="#" target="_blank"><i class="fa-brands fa-twitter"></i></a></li>
          <li class="social-link"><a href="#" target="_blank"><i class="fa-brands fa-facebook"></i></a></li>
        </ul>
      </div>
    </footer>
  </main>


  <script type="text/javascript">

    $(document).ready(function() {

      // Initialize Page

      const $page = $('.page');
      $page.hide();

      // Set default page
      let $currentPage = $(`#about`);

      function setPage(page) {
        // $currentPage.attr('hidden', true);
        $currentPage.fadeOut(200, function() {
          $currentPage = $(`#${page}`);
          $currentPage.fadeIn(400);
        });

      }

      setPage('about');

      // Music functions

      let placeHolderPlaylist = [];

      for (let i = 0; i < 7; i++) {
        const track = {
          id: i,
          title: `Song Title ${i}`,
          fileName: `./test.mp3`
        };
        placeHolderPlaylist.push(track);
      }

      $("#track-list").html(() => {
        return placeHolderPlaylist.map((song, i) => `<li class="song" value="${i}">${i + 1}. ${song.title}</li>`).join('');
      });

      const $songTitle = $("#song-title");
      const $audio = $("#audio-player");
      const $song = $(".song");

      $song.on('click', function(e) {
        $audio[0].pause();
        $song.removeClass('playing');
        $(e.target).addClass('playing');
        $songTitle.html(`${placeHolderPlaylist[e.target.value].title}`);
        $audio.find('source').attr('src', placeHolderPlaylist[e.target.value].fileName);
        $audio[0].load();
        $audio[0].oncanplaythrough = $audio[0].play();
      });

      const queueFirstSong = function(playlist) {
        $($song[0]).addClass('playing');
        $songTitle.html(`${playlist[0].title}`);
        $audio.find('source').attr('src', playlist[0].fileName);
      };

      queueFirstSong(placeHolderPlaylist);

      const $menuItem = $(".menu-item");

      $menuItem.on('click', function(event) {
        // Activate the button
        $menuItem.removeClass('active');
        $(event.target).addClass('active');

        // Switch page
        const page = $(event.target).attr('data-page');
        setPage(page);
      });

    });


  </script>

</body>

</html>